<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Macrophiche - Login</title>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.css" />
      </head>
  <body>
    <div id="message">
      <h1>Macrophiche - Login</h1>
    </div>
    <p id="load">Firebase SDK Loading&hellip;</p>
    <p class="status">Waiting for Auth&hellip;</p>
    <div id="firebaseui-auth-container"></div>
    <script type="text/javascript" src="js/bundle.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.4.1/firebaseui.js"></script>
    <script type="text/javascript">
      document.addEventListener('firebase-ready', (event) =>{
        firebase = event.detail.firebase;
      // FirebaseUI config.
      var uiConfig = {
        signInSuccessUrl: '/',
        signInOptions: [
          // Leave the lines as is for the providers you want to offer your users.
          {
            provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,
            scopes: [
              'email',
              'profile',
//              'https://www.googleapis.com/auth/drive.photos.readonly',
              'https://www.googleapis.com/auth/photoslibrary.readonly',
            ]
          },
          firebase.auth.FacebookAuthProvider.PROVIDER_ID,
          firebase.auth.TwitterAuthProvider.PROVIDER_ID,
          firebase.auth.GithubAuthProvider.PROVIDER_ID,
          firebase.auth.EmailAuthProvider.PROVIDER_ID,
          firebase.auth.PhoneAuthProvider.PROVIDER_ID,
          firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID,
        ],
        // tosUrl and privacyPolicyUrl accept either url string or a callback
        // function.
        // Terms of service url/callback.
        tosUrl: '/tos.html',
        // Privacy policy url/callback.
        privacyPolicyUrl: '/pp.html'
      };

      // Initialize the FirebaseUI Widget using Firebase.
      var ui = new firebaseui.auth.AuthUI(firebase.auth());
      // The start method will wait until the DOM is loaded.
      ui.start('#firebaseui-auth-container', uiConfig);
    });
    </script>
  </body>
</html>
